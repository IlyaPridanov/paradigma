"use strict";!function(){var e,t,n,i,o=document.createElement("details"),r="undefined"!=typeof HTMLDetailsElement&&o instanceof HTMLDetailsElement,a="open"in o||r,u="ontoggle"in o,c=[],s=c.forEach,d=c.slice;function l(e){(function(e,t){return(e.tagName==t?[e]:[]).concat("function"==typeof e.getElementsByTagName?d.call(e.getElementsByTagName(t)):[])})(e,"SUMMARY").forEach((function(e){var t=v(e,"DETAILS");e.setAttribute("aria-expanded",t.hasAttribute("open")),e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.hasAttribute("role")||e.setAttribute("role","button")}))}function f(e){return!(e.defaultPrevented||e.ctrlKey||e.metaKey||e.shiftKey||e.target.isContentEditable)}function p(e){addEventListener("click",(function(t){if(f(t)&&t.which<=1){var n=v(t.target,"SUMMARY");n&&n.parentNode&&"DETAILS"==n.parentNode.tagName&&e(n.parentNode)}}),!1),addEventListener("keydown",(function(t){if(f(t)&&(13==t.keyCode||32==t.keyCode)){var n=v(t.target,"SUMMARY");n&&n.parentNode&&"DETAILS"==n.parentNode.tagName&&(e(n.parentNode),t.preventDefault())}}),!1)}function m(e){var t=document.createEvent("Event");t.initEvent("toggle",!1,!1),e.dispatchEvent(t)}function v(e,t){if("function"==typeof e.closest)return e.closest(t);for(;e;){if(e.tagName==t)return e;e=e.parentNode}}a||(document.head.insertAdjacentHTML("afterbegin",'<style>\ndetails, summary {\n  display: block;\n}\ndetails:not([open]) > *:not(summary) {\n  display: none;\n}\nsummary::before {\n  content: "►";\n  padding-right: 0.3rem;\n  font-size: 0.6rem;\n  cursor: default;\n}\n[open] > summary::before {\n  content: "▼";\n}\n</style>'),e=document.createElement("details").constructor.prototype,t=e.setAttribute,n=e.removeAttribute,i=Object.getOwnPropertyDescriptor(e,"open"),Object.defineProperties(e,{open:{get:function(){return"DETAILS"==this.tagName?this.hasAttribute("open"):i&&i.get?i.get.call(this):void 0},set:function(e){return"DETAILS"==this.tagName?e?this.setAttribute("open",""):this.removeAttribute("open"):i&&i.set?i.set.call(this,e):void 0}},setAttribute:{value:function(e,n){var i=this,o=function(){return t.call(i,e,n)};if("open"==e&&"DETAILS"==this.tagName){var r=this.hasAttribute("open"),a=o();if(!r){var u=this.querySelector("summary");u&&u.setAttribute("aria-expanded",!0),m(this)}return a}return o()}},removeAttribute:{value:function(e){var t=this,i=function(){return n.call(t,e)};if("open"==e&&"DETAILS"==this.tagName){var o=this.hasAttribute("open"),r=i();if(o){var a=this.querySelector("summary");a&&a.setAttribute("aria-expanded",!1),m(this)}return r}return i()}}}),p((function(e){e.hasAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","")})),l(document),window.MutationObserver?new MutationObserver((function(e){s.call(e,(function(e){s.call(e.addedNodes,l)}))})).observe(document.documentElement,{subtree:!0,childList:!0}):document.addEventListener("DOMNodeInserted",(function(e){l(e.target)}))),a&&!u&&(window.MutationObserver?new MutationObserver((function(e){s.call(e,(function(e){var t=e.target,n=e.attributeName;"DETAILS"==t.tagName&&"open"==n&&m(t)}))})).observe(document.documentElement,{attributes:!0,subtree:!0}):p((function(e){var t=e.getAttribute("open");setTimeout((function(){var n=e.getAttribute("open");t!=n&&m(e)}),1)})))}(),function(){var e,t=document.querySelector(".header__button"),n=document.querySelector(".header__nav");(e=t).addEventListener("click",(function(){e.classList.toggle("header__button--active"),n.classList.toggle("header__nav--inactive")}))}(),function(){var e=document.querySelector(".footer-top__btn"),t=document.querySelector(".form-popup"),n=document.querySelector(".form-popup__btn-exit"),i=function(){t.classList.add("hidden")};e.addEventListener("click",(function(){t.classList.remove("hidden")})),n.addEventListener("click",(function(){i()})),t.addEventListener("click",(function(e){e.target===this&&i()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&i()}))}(),window.backend={upload:function(e,t,n){var i=new XMLHttpRequest;i.responseType="json",i.addEventListener("load",(function(){200===i.status?t(i.response):n()})),i.addEventListener("error",(function(){n()})),i.open("POST","https://httpbin.org/post"),i.send(e)}},function(){var e=document.querySelector(".form-popup"),t=document.querySelector(".success-popup"),n=document.querySelector(".form-popup form"),i=document.querySelector(".form-popup .form-popup__btn"),o=document.querySelector(".form-popup textarea"),r=document.querySelectorAll(".form-popup input"),a=function(){e.classList.add("hidden"),t.classList.remove("hidden"),setTimeout((function(){return t.classList.add("hidden")}),1e3)},u=function(){alert("Беда!")};n.addEventListener("submit",(function(e){e.preventDefault(),window.backend.upload(new FormData(n),a,u)})),i.addEventListener("click",(function(){o.checkValidity()||o.classList.add("invalid"),r.forEach((function(e){e.checkValidity()||e.classList.add("invalid")}))})),o.addEventListener("input",(function(){o.checkValidity()?o.classList.remove("invalid"):o.classList.add("invalid")})),r.forEach((function(e){e.addEventListener("input",(function(){this.checkValidity()?this.classList.remove("invalid"):this.classList.add("invalid")}))}))}();